<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SOMTECH_SOF Dashboard</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
        body {
            box-sizing: border-box;
        }
        
        .custom-shadow {
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .nav-item {
            transition: all 0.2s ease;
        }
        
        .nav-item:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        
        .card-hover {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
        }
        
        .lang-btn {
            transition: all 0.2s ease;
        }
        
        .lang-btn:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }
        
        .lang-btn.active {
            background-color: #14b8a6;
            color: white;
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full bg-gray-50 font-sans">
  <div class="flex h-full min-h-screen"><!-- Left Sidebar -->
   <div class="w-64 bg-slate-800 text-white flex flex-col custom-shadow"><!-- Logo Section -->
    <div class="p-6 border-b border-slate-700">
     <div class="flex items-center space-x-3">
      <div class="w-10 h-10 bg-teal-500 rounded-lg flex items-center justify-center">
       <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
       </svg>
      </div>
      <div>
       <h1 id="system-title" class="text-lg font-bold">SOMTECH_SOF</h1>
       <p class="text-xs text-slate-300">v2.0.0</p>
      </div>
     </div>
    </div><!-- User Info Section -->
    <div class="p-6 border-b border-slate-700">
     <div class="flex items-center space-x-3 mb-3">
      <div class="w-8 h-8 bg-slate-600 rounded-full flex items-center justify-center">
       <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
       </svg>
      </div>
      <div>
       <p id="user-role" class="text-sm font-medium">Purchasing</p>
       <p id="department" class="text-xs text-slate-300">Materials Management</p>
      </div>
     </div><!-- Language Selector -->
     <div class="flex space-x-1"><button class="lang-btn active px-2 py-1 text-xs rounded" onclick="setLanguage('TR')">TR</button> <button class="lang-btn px-2 py-1 text-xs rounded" onclick="setLanguage('EN')">EN</button> <button class="lang-btn px-2 py-1 text-xs rounded" onclick="setLanguage('RU')">RU</button>
     </div>
    </div><!-- Navigation Menu -->
    <nav class="flex-1 p-4">
     <ul class="space-y-2">
      <li><a href="#" class="nav-item flex items-center space-x-3 px-3 py-2 rounded-lg bg-slate-700">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z" /> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5a2 2 0 012-2h4a2 2 0 012 2v2H8V5z" />
        </svg><span class="text-sm">Dashboard</span> </a></li>
      <li><a href="#" class="nav-item flex items-center space-x-3 px-3 py-2 rounded-lg">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
        </svg><span class="text-sm">Requests</span> </a></li>
      <li><a href="#" class="nav-item flex items-center space-x-3 px-3 py-2 rounded-lg">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
        </svg><span class="text-sm">Materials</span> </a></li>
      <li><a href="#" class="nav-item flex items-center space-x-3 px-3 py-2 rounded-lg">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
        </svg><span class="text-sm">Reports</span> </a></li>
      <li><a href="#" id="settings-nav" class="nav-item flex items-center space-x-3 px-3 py-2 rounded-lg">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" /> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
        </svg><span class="text-sm">Settings</span> </a></li>
     </ul>
    </nav>
   </div><!-- Main Content Area -->
   <div class="flex-1 flex flex-col"><!-- Header -->
    <header class="bg-white border-b border-gray-200 px-8 py-6 custom-shadow">
     <div class="flex items-center justify-between">
      <div>
       <h2 class="text-2xl font-bold text-gray-900">Dashboard</h2>
       <p class="text-gray-600 mt-1">Materials Management Overview</p>
      </div>
      <div class="flex items-center space-x-4"><button class="p-2 text-gray-400 hover:text-gray-600 transition-colors">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-5 5-5-5h5v-5a7.5 7.5 0 00-15 0v5h5l-5 5-5-5h5V7a9.5 9.5 0 0119 0v10z" />
        </svg></button> <button class="p-2 text-gray-400 hover:text-gray-600 transition-colors">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-5 5-5-5h5v-5a7.5 7.5 0 00-15 0v5h5l-5 5-5-5h5V7a9.5 9.5 0 0119 0v10z" />
        </svg></button>
      </div>
     </div>
    </header><!-- Dashboard Content -->
    <main class="flex-1 p-8 bg-gray-50"><!-- Dashboard View -->
     <div id="dashboard-view"><!-- Summary Cards -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"><!-- Total Requests Card -->
       <div class="bg-white rounded-xl p-6 custom-shadow card-hover">
        <div class="flex items-center justify-between">
         <div>
          <p class="text-sm font-medium text-gray-600">Total Requests</p>
          <p class="text-3xl font-bold text-gray-900 mt-2">0</p>
         </div>
         <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
          <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
          </svg>
         </div>
        </div>
        <div class="mt-4 flex items-center"><span class="text-sm text-gray-500">This month</span>
        </div>
       </div><!-- Approved Card -->
       <div class="bg-white rounded-xl p-6 custom-shadow card-hover">
        <div class="flex items-center justify-between">
         <div>
          <p class="text-sm font-medium text-gray-600">Approved</p>
          <p class="text-3xl font-bold text-gray-900 mt-2">0</p>
         </div>
         <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center"><span class="text-2xl">✅</span>
         </div>
        </div>
        <div class="mt-4 flex items-center"><span class="text-sm text-green-600">Ready to process</span>
        </div>
       </div><!-- Pending Card -->
       <div class="bg-white rounded-xl p-6 custom-shadow card-hover">
        <div class="flex items-center justify-between">
         <div>
          <p class="text-sm font-medium text-gray-600">Pending</p>
          <p class="text-3xl font-bold text-gray-900 mt-2">0</p>
         </div>
         <div class="w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center"><span class="text-2xl">⏳</span>
         </div>
        </div>
        <div class="mt-4 flex items-center"><span class="text-sm text-yellow-600">Awaiting review</span>
        </div>
       </div><!-- Rejected Card -->
       <div class="bg-white rounded-xl p-6 custom-shadow card-hover">
        <div class="flex items-center justify-between">
         <div>
          <p class="text-sm font-medium text-gray-600">Rejected</p>
          <p class="text-3xl font-bold text-gray-900 mt-2">0</p>
         </div>
         <div class="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center"><span class="text-2xl">❌</span>
         </div>
        </div>
        <div class="mt-4 flex items-center"><span class="text-sm text-red-600">Requires attention</span>
        </div>
       </div>
      </div><!-- System Summary Section -->
      <div class="mb-8">
       <div class="bg-white rounded-xl p-8 custom-shadow">
        <div class="mb-6">
         <h3 class="text-2xl font-bold text-gray-900 mb-2">SİSTEM ÖZETİ</h3>
         <p class="text-gray-600">SOMTECH_SOF v2.0.0 malzeme yönetim sistemi aktif durumda...</p>
        </div><!-- System Metrics Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-8"><!-- Total Records -->
         <div class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 card-hover border border-blue-200">
          <div class="flex items-center justify-between mb-2">
           <div class="w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center">
            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
            </svg>
           </div>
          </div>
          <p class="text-xs font-medium text-blue-700 mb-1">Total Records</p>
          <p class="text-xl font-bold text-blue-900">0</p>
         </div><!-- All Requests -->
         <div class="bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 card-hover border border-purple-200">
          <div class="flex items-center justify-between mb-2">
           <div class="w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center">
            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
            </svg>
           </div>
          </div>
          <p class="text-xs font-medium text-purple-700 mb-1">All Requests</p>
          <p class="text-xl font-bold text-purple-900">0</p>
         </div><!-- Approved -->
         <div class="bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 card-hover border border-green-200">
          <div class="flex items-center justify-between mb-2">
           <div class="w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center"><span class="text-sm">✅</span>
           </div>
          </div>
          <p class="text-xs font-medium text-green-700 mb-1">Approved</p>
          <p class="text-xl font-bold text-green-900">0</p>
         </div><!-- Pending -->
         <div class="bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg p-4 card-hover border border-yellow-200">
          <div class="flex items-center justify-between mb-2">
           <div class="w-8 h-8 bg-yellow-500 rounded-lg flex items-center justify-center"><span class="text-sm">⏳</span>
           </div>
          </div>
          <p class="text-xs font-medium text-yellow-700 mb-1">Pending</p>
          <p class="text-xl font-bold text-yellow-900">0</p>
         </div><!-- Rejected -->
         <div class="bg-gradient-to-br from-red-50 to-red-100 rounded-lg p-4 card-hover border border-red-200">
          <div class="flex items-center justify-between mb-2">
           <div class="w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center"><span class="text-sm">❌</span>
           </div>
          </div>
          <p class="text-xs font-medium text-red-700 mb-1">Rejected</p>
          <p class="text-xl font-bold text-red-900">0</p>
         </div>
        </div><!-- Status Distribution Chart -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6"><!-- Donut Chart -->
         <div class="bg-gray-50 rounded-lg p-6">
          <h4 class="text-lg font-semibold text-gray-900 mb-4">Status Distribution</h4>
          <div class="flex items-center justify-center">
           <div class="relative w-48 h-48">
            <svg class="w-48 h-48 transform -rotate-90" viewbox="0 0 100 100"><!-- Background circle --> <circle cx="50" cy="50" r="40" fill="none" stroke="#e5e7eb" stroke-width="8" /> <!-- Approved segment (placeholder) --> <circle cx="50" cy="50" r="40" fill="none" stroke="#10b981" stroke-width="8" stroke-dasharray="0 251.2" stroke-linecap="round" class="transition-all duration-500" /> <!-- Pending segment (placeholder) --> <circle cx="50" cy="50" r="40" fill="none" stroke="#f59e0b" stroke-width="8" stroke-dasharray="0 251.2" stroke-dashoffset="0" stroke-linecap="round" class="transition-all duration-500" /> <!-- Rejected segment (placeholder) --> <circle cx="50" cy="50" r="40" fill="none" stroke="#ef4444" stroke-width="8" stroke-dasharray="0 251.2" stroke-dashoffset="0" stroke-linecap="round" class="transition-all duration-500" />
            </svg>
            <div class="absolute inset-0 flex items-center justify-center">
             <div class="text-center">
              <p class="text-2xl font-bold text-gray-900">0</p>
              <p class="text-xs text-gray-500">Total</p>
             </div>
            </div>
           </div>
          </div>
          <div class="mt-4 space-y-2">
           <div class="flex items-center justify-between">
            <div class="flex items-center space-x-2">
             <div class="w-3 h-3 bg-green-500 rounded-full"></div><span class="text-sm text-gray-600">Approved</span>
            </div><span class="text-sm font-medium text-gray-900">0 (0%)</span>
           </div>
           <div class="flex items-center justify-between">
            <div class="flex items-center space-x-2">
             <div class="w-3 h-3 bg-yellow-500 rounded-full"></div><span class="text-sm text-gray-600">Pending</span>
            </div><span class="text-sm font-medium text-gray-900">0 (0%)</span>
           </div>
           <div class="flex items-center justify-between">
            <div class="flex items-center space-x-2">
             <div class="w-3 h-3 bg-red-500 rounded-full"></div><span class="text-sm text-gray-600">Rejected</span>
            </div><span class="text-sm font-medium text-gray-900">0 (0%)</span>
           </div>
          </div>
         </div><!-- Horizontal Bar Chart -->
         <div class="bg-gray-50 rounded-lg p-6">
          <h4 class="text-lg font-semibold text-gray-900 mb-4">Request Progress</h4>
          <div class="space-y-4"><!-- Approved Bar -->
           <div>
            <div class="flex items-center justify-between mb-1"><span class="text-sm font-medium text-gray-700">Approved</span> <span class="text-sm text-gray-500">0%</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-3">
             <div class="bg-green-500 h-3 rounded-full transition-all duration-500" style="width: 0%"></div>
            </div>
           </div><!-- Pending Bar -->
           <div>
            <div class="flex items-center justify-between mb-1"><span class="text-sm font-medium text-gray-700">Pending</span> <span class="text-sm text-gray-500">0%</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-3">
             <div class="bg-yellow-500 h-3 rounded-full transition-all duration-500" style="width: 0%"></div>
            </div>
           </div><!-- Rejected Bar -->
           <div>
            <div class="flex items-center justify-between mb-1"><span class="text-sm font-medium text-gray-700">Rejected</span> <span class="text-sm text-gray-500">0%</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-3">
             <div class="bg-red-500 h-3 rounded-full transition-all duration-500" style="width: 0%"></div>
            </div>
           </div>
          </div><!-- Summary Stats -->
          <div class="mt-6 pt-4 border-t border-gray-200">
           <div class="grid grid-cols-2 gap-4">
            <div class="text-center">
             <p class="text-lg font-bold text-gray-900">0</p>
             <p class="text-xs text-gray-500">This Week</p>
            </div>
            <div class="text-center">
             <p class="text-lg font-bold text-gray-900">0</p>
             <p class="text-xs text-gray-500">This Month</p>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div><!-- Material Records Section -->
      <div class="mb-8">
       <div class="bg-white rounded-xl custom-shadow"><!-- Header -->
        <div class="px-8 py-6 border-b border-gray-200">
         <div class="flex items-center justify-between">
          <div>
           <h3 class="text-2xl font-bold text-gray-900">Material Records</h3>
           <p class="text-gray-600 mt-1">Manage and track all material requests</p>
          </div>
          <div class="flex items-center space-x-3"><!-- Export Buttons --> <button class="flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
            </svg><span class="text-sm font-medium">Export PDF</span> </button> <button class="flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
            </svg><span class="text-sm font-medium">Export Excel</span> </button>
          </div>
         </div>
        </div><!-- Filter Controls -->
        <div class="px-8 py-6 bg-gray-50 border-b border-gray-200">
         <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4"><!-- Search Box -->
          <div class="lg:col-span-2"><label class="block text-sm font-medium text-gray-700 mb-1">Search</label>
           <div class="relative"><input type="text" placeholder="Search SOF No, Material Type..." class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 text-sm">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
             <svg class="h-4 w-4 text-gray-400" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
             </svg>
            </div>
           </div>
          </div><!-- Unit Filter -->
          <div><label class="block text-sm font-medium text-gray-700 mb-1">Unit</label> <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 text-sm"> <option value="">All Units</option> <option value="production">Production</option> <option value="maintenance">Maintenance</option> <option value="quality">Quality</option> <option value="logistics">Logistics</option> </select>
          </div><!-- Main Type Filter -->
          <div><label class="block text-sm font-medium text-gray-700 mb-1">Main Type</label> <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 text-sm"> <option value="">All Types</option> <option value="raw-material">Raw Material</option> <option value="spare-parts">Spare Parts</option> <option value="consumables">Consumables</option> <option value="tools">Tools</option> </select>
          </div><!-- Status Filter -->
          <div><label class="block text-sm font-medium text-gray-700 mb-1">Status</label> <select class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 text-sm"> <option value="">All Status</option> <option value="approved">Approved</option> <option value="pending">Pending</option> <option value="rejected">Rejected</option> </select>
          </div>
         </div><!-- Date Range Picker -->
         <div class="mt-4 grid grid-cols-1 md:grid-cols-3 gap-4">
          <div><label class="block text-sm font-medium text-gray-700 mb-1">From Date</label> <input type="date" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 text-sm">
          </div>
          <div><label class="block text-sm font-medium text-gray-700 mb-1">To Date</label> <input type="date" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 text-sm">
          </div>
          <div class="flex items-end"><button class="w-full px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors text-sm font-medium"> Apply Filters </button>
          </div>
         </div>
        </div><!-- Table -->
        <div class="overflow-x-auto">
         <table class="w-full">
          <thead class="bg-gray-100 border-b border-gray-200">
           <tr>
            <th class="px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">SOF No</th>
            <th class="px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Request Date</th>
            <th class="px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Material Main Type</th>
            <th class="px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Unit</th>
            <th class="px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Type</th>
            <th class="px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Qty</th>
            <th class="px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Due Date</th>
            <th class="px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Details</th>
            <th class="px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Status</th>
            <th class="px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Actions</th>
           </tr>
          </thead>
          <tbody class="bg-white divide-y divide-gray-200"><!-- Sample Row 1 -->
           <tr class="hover:bg-gray-50 transition-colors">
            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">SOF-2024-001</td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">2024-01-15</td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Raw Material</td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Production</td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Steel Sheets</td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">500 kg</td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">2024-02-01</td>
            <td class="px-6 py-4 whitespace-nowrap"><button class="text-teal-600 hover:text-teal-800 text-sm font-medium">View Details</button></td>
            <td class="px-6 py-4 whitespace-nowrap"><span class="inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800">Approved</span></td>
            <td class="px-6 py-4 whitespace-nowrap text-sm">
             <div class="flex items-center space-x-2"><button class="text-blue-600 hover:text-blue-800" title="Edit">
               <svg class="w-4 h-4" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
               </svg></button> <button class="text-red-600 hover:text-red-800" title="Delete">
               <svg class="w-4 h-4" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
               </svg></button>
             </div></td>
           </tr><!-- Sample Row 2 -->
           <tr class="bg-gray-50 hover:bg-gray-100 transition-colors">
            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">SOF-2024-002</td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">2024-01-16</td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Spare Parts</td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Maintenance</td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Motor Bearings</td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">12 pcs</td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">2024-01-30</td>
            <td class="px-6 py-4 whitespace-nowrap"><button class="text-teal-600 hover:text-teal-800 text-sm font-medium">View Details</button></td>
            <td class="px-6 py-4 whitespace-nowrap"><span class="inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800">Pending</span></td>
            <td class="px-6 py-4 whitespace-nowrap text-sm">
             <div class="flex items-center space-x-2"><button class="text-blue-600 hover:text-blue-800" title="Edit">
               <svg class="w-4 h-4" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
               </svg></button> <button class="text-red-600 hover:text-red-800" title="Delete">
               <svg class="w-4 h-4" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
               </svg></button>
             </div></td>
           </tr><!-- Sample Row 3 -->
           <tr class="hover:bg-gray-50 transition-colors">
            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">SOF-2024-003</td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">2024-01-17</td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Consumables</td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Quality</td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Testing Chemicals</td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">25 L</td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">2024-02-15</td>
            <td class="px-6 py-4 whitespace-nowrap"><button class="text-teal-600 hover:text-teal-800 text-sm font-medium">View Details</button></td>
            <td class="px-6 py-4 whitespace-nowrap"><span class="inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800">Rejected</span></td>
            <td class="px-6 py-4 whitespace-nowrap text-sm">
             <div class="flex items-center space-x-2"><button class="text-blue-600 hover:text-blue-800" title="Edit">
               <svg class="w-4 h-4" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
               </svg></button> <button class="text-red-600 hover:text-red-800" title="Delete">
               <svg class="w-4 h-4" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
               </svg></button>
             </div></td>
           </tr><!-- Empty State Row (when no data) -->
           <tr class="hidden" id="empty-state">
            <td colspan="10" class="px-6 py-12 text-center">
             <div class="text-gray-500">
              <svg class="w-12 h-12 mx-auto mb-4 text-gray-300" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
              </svg>
              <p class="text-sm">No material records found</p>
              <p class="text-xs text-gray-400 mt-1">Try adjusting your filters or add new records</p>
             </div></td>
           </tr>
          </tbody>
         </table>
        </div><!-- Pagination -->
        <div class="px-8 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between">
         <div class="flex items-center text-sm text-gray-600"><span>Showing 1 to 3 of 3 results</span>
         </div>
         <div class="flex items-center space-x-2"><button class="px-3 py-1 text-sm border border-gray-300 rounded-lg text-gray-500 bg-white hover:bg-gray-50 disabled:opacity-50" disabled> Previous </button> <button class="px-3 py-1 text-sm bg-teal-600 text-white rounded-lg">1</button> <button class="px-3 py-1 text-sm border border-gray-300 rounded-lg text-gray-700 bg-white hover:bg-gray-50">2</button> <button class="px-3 py-1 text-sm border border-gray-300 rounded-lg text-gray-700 bg-white hover:bg-gray-50">3</button> <button class="px-3 py-1 text-sm border border-gray-300 rounded-lg text-gray-700 bg-white hover:bg-gray-50"> Next </button>
         </div>
        </div>
       </div>
      </div><!-- Google Drive Synchronization Section -->
      <div class="mb-8">
       <div class="bg-white rounded-xl p-8 custom-shadow">
        <div class="flex items-center space-x-3 mb-6"><span class="text-2xl">☁️</span>
         <h3 class="text-2xl font-bold text-gray-900">Google Drive Synchronisation</h3>
        </div>
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8"><!-- Connection Status & Actions -->
         <div class="space-y-6"><!-- Connection Status -->
          <div class="bg-gray-50 rounded-lg p-6 border border-gray-200">
           <div class="flex items-center justify-between mb-4">
            <h4 class="text-lg font-semibold text-gray-900">Connection Status</h4>
            <div id="connection-indicator" class="flex items-center space-x-2">
             <div class="w-3 h-3 bg-red-500 rounded-full"></div><span id="connection-status" class="text-sm font-medium text-red-600">Not Connected</span>
            </div>
           </div><!-- Connect Button --> <button id="connect-drive-btn" class="w-full flex items-center justify-center space-x-3 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium">
            <svg class="w-5 h-5" viewbox="0 0 24 24" fill="currentColor"><path d="M6.28 3l5.72 9.91L18.28 3H6.28zM21 14.59L15.41 9H21v5.59zM12 15l-6.28-3L12 21l6.28-9H12z" />
            </svg><span>Connect to Google Drive</span> </button> <!-- Last Sync Info -->
           <div class="mt-4 text-sm text-gray-600">
            <p><strong>Last Backup:</strong> <span id="last-backup">Never</span></p>
            <p><strong>Last Restore:</strong> <span id="last-restore">Never</span></p>
           </div>
          </div><!-- Action Buttons -->
          <div class="space-y-3">
           <h4 class="text-lg font-semibold text-gray-900">Sync Actions</h4><!-- Backup Button --> <button id="backup-btn" class="w-full flex items-center justify-center space-x-3 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed" disabled> <span class="text-lg">⬆️</span> <span>Backup to Drive</span>
            <div id="backup-spinner" class="hidden w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"></div></button> <!-- Restore Button --> <button id="restore-btn" class="w-full flex items-center justify-center space-x-3 px-6 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed" disabled> <span class="text-lg">⬇️</span> <span>Restore from Drive</span>
            <div id="restore-spinner" class="hidden w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"></div></button>
          </div><!-- Sync Statistics -->
          <div class="bg-blue-50 rounded-lg p-4 border border-blue-200">
           <h5 class="text-sm font-semibold text-blue-900 mb-2">Sync Statistics</h5>
           <div class="grid grid-cols-2 gap-4 text-sm">
            <div>
             <p class="text-blue-700">Total Backups:</p>
             <p class="font-medium text-blue-900" id="total-backups">0</p>
            </div>
            <div>
             <p class="text-blue-700">Data Size:</p>
             <p class="font-medium text-blue-900" id="data-size">0 KB</p>
            </div>
           </div>
          </div>
         </div><!-- Setup Instructions -->
         <div class="space-y-6">
          <div class="bg-yellow-50 rounded-lg p-6 border border-yellow-200">
           <div class="flex items-center space-x-2 mb-4">
            <svg class="w-5 h-5 text-yellow-600" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            <h4 class="text-lg font-semibold text-yellow-900">Setup Instructions</h4>
           </div>
           <div class="space-y-4 text-sm text-yellow-800">
            <div class="flex items-start space-x-3"><span class="flex-shrink-0 w-6 h-6 bg-yellow-200 text-yellow-900 rounded-full flex items-center justify-center text-xs font-bold">1</span>
             <div>
              <p class="font-medium">Create Google Cloud Project</p>
              <p class="text-yellow-700">Go to <a href="https://console.cloud.google.com" target="_blank" rel="noopener noreferrer" class="underline hover:text-yellow-900">Google Cloud Console</a> and create a new project or select existing one.</p>
             </div>
            </div>
            <div class="flex items-start space-x-3"><span class="flex-shrink-0 w-6 h-6 bg-yellow-200 text-yellow-900 rounded-full flex items-center justify-center text-xs font-bold">2</span>
             <div>
              <p class="font-medium">Enable Google Drive API</p>
              <p class="text-yellow-700">Navigate to "APIs &amp; Services" → "Library" and enable the Google Drive API for your project.</p>
             </div>
            </div>
            <div class="flex items-start space-x-3"><span class="flex-shrink-0 w-6 h-6 bg-yellow-200 text-yellow-900 rounded-full flex items-center justify-center text-xs font-bold">3</span>
             <div>
              <p class="font-medium">Create OAuth 2.0 Credentials</p>
              <p class="text-yellow-700">Go to "Credentials" → "Create Credentials" → "OAuth client ID". Select "Web application" as application type.</p>
             </div>
            </div>
            <div class="flex items-start space-x-3"><span class="flex-shrink-0 w-6 h-6 bg-yellow-200 text-yellow-900 rounded-full flex items-center justify-center text-xs font-bold">4</span>
             <div>
              <p class="font-medium">Configure Authorized Origins</p>
              <p class="text-yellow-700">Add your domain to "Authorized JavaScript origins" (e.g., https://yourdomain.com).</p>
             </div>
            </div>
            <div class="flex items-start space-x-3"><span class="flex-shrink-0 w-6 h-6 bg-yellow-200 text-yellow-900 rounded-full flex items-center justify-center text-xs font-bold">5</span>
             <div>
              <p class="font-medium">Update Configuration</p>
              <p class="text-yellow-700">Copy your CLIENT_ID and API_KEY from the credentials page and update the configuration below.</p>
             </div>
            </div>
           </div>
          </div><!-- Configuration Panel -->
          <div class="bg-gray-50 rounded-lg p-6 border border-gray-200">
           <h4 class="text-lg font-semibold text-gray-900 mb-4">API Configuration</h4>
           <div class="space-y-4">
            <div><label class="block text-sm font-medium text-gray-700 mb-1">Client ID</label> <input type="text" id="client-id-input" placeholder="your-client-id.googleusercontent.com" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 text-sm font-mono">
            </div>
            <div><label class="block text-sm font-medium text-gray-700 mb-1">API Key</label> <input type="text" id="api-key-input" placeholder="AIzaSyC-your-api-key-here" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 text-sm font-mono">
            </div><button id="save-config-btn" class="w-full px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors text-sm font-medium"> Save Configuration </button>
           </div><!-- Status Messages -->
           <div id="config-message" class="mt-4 hidden">
            <div class="p-3 rounded-lg text-sm"><span id="config-message-text"></span>
            </div>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div><!-- Additional Content Area -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6"><!-- Recent Activity -->
       <div class="bg-white rounded-xl p-6 custom-shadow">
        <h3 class="text-lg font-semibold text-gray-900 mb-4">Recent Activity</h3>
        <div class="space-y-4">
         <div class="flex items-center justify-center py-12 text-gray-500">
          <div class="text-center">
           <svg class="w-12 h-12 mx-auto mb-4 text-gray-300" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
           </svg>
           <p class="text-sm">No recent activity</p>
          </div>
         </div>
        </div>
       </div><!-- Quick Actions -->
       <div class="bg-white rounded-xl p-6 custom-shadow">
        <h3 class="text-lg font-semibold text-gray-900 mb-4">Quick Actions</h3>
        <div class="space-y-3"><button id="new-request-btn" class="w-full flex items-center space-x-3 p-3 text-left rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors">
          <div class="w-8 h-8 bg-teal-100 rounded-lg flex items-center justify-center">
           <svg class="w-4 h-4 text-teal-600" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
           </svg>
          </div><span class="text-sm font-medium text-gray-700">New Request</span> </button> <button class="w-full flex items-center space-x-3 p-3 text-left rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors">
          <div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center">
           <svg class="w-4 h-4 text-blue-600" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
           </svg>
          </div><span class="text-sm font-medium text-gray-700">View Reports</span> </button> <button class="w-full flex items-center space-x-3 p-3 text-left rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors">
          <div class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center">
           <svg class="w-4 h-4 text-purple-600" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
           </svg>
          </div><span class="text-sm font-medium text-gray-700">Manage Materials</span> </button>
        </div>
       </div>
      </div>
     </div><!-- Settings View -->
     <div id="settings-view" class="hidden"><!-- Settings Header -->
      <div class="mb-8">
       <h2 class="text-2xl font-bold text-gray-900">Settings</h2>
       <p class="text-gray-600 mt-1">Manage your account preferences and system configuration</p>
      </div><!-- Settings Content -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8"><!-- Left Column -->
       <div class="space-y-8"><!-- User Preferences Panel -->
        <div class="bg-white rounded-xl p-8 custom-shadow">
         <div class="flex items-center space-x-3 mb-6">
          <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
           <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
           </svg>
          </div>
          <h3 class="text-xl font-semibold text-gray-900">User Preferences</h3>
         </div>
         <div class="space-y-6"><!-- Full Name -->
          <div class="flex flex-col md:flex-row md:items-center md:justify-between"><label class="text-sm font-medium text-gray-700 mb-2 md:mb-0 md:w-1/3">Full Name</label>
           <div class="md:w-2/3"><input type="text" id="user-full-name" value="John Doe" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-colors">
           </div>
          </div><!-- Divider -->
          <div class="border-t border-gray-100"></div><!-- Email -->
          <div class="flex flex-col md:flex-row md:items-center md:justify-between"><label class="text-sm font-medium text-gray-700 mb-2 md:mb-0 md:w-1/3">Email Address</label>
           <div class="md:w-2/3"><input type="email" id="user-email" value="john.doe@somtech.com" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-colors">
           </div>
          </div><!-- Divider -->
          <div class="border-t border-gray-100"></div><!-- Department -->
          <div class="flex flex-col md:flex-row md:items-center md:justify-between"><label class="text-sm font-medium text-gray-700 mb-2 md:mb-0 md:w-1/3">Department</label>
           <div class="md:w-2/3"><select id="user-department" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-colors"> <option value="materials">Materials Management</option> <option value="production">Production</option> <option value="quality">Quality Control</option> <option value="maintenance">Maintenance</option> <option value="logistics">Logistics</option> <option value="finance">Finance</option> <option value="hr">Human Resources</option> </select>
           </div>
          </div><!-- Save Button -->
          <div class="pt-4"><button id="save-user-prefs" class="w-full md:w-auto px-6 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors font-medium"> Save Changes </button>
          </div>
         </div>
        </div><!-- System Configuration Panel -->
        <div class="bg-white rounded-xl p-8 custom-shadow">
         <div class="flex items-center space-x-3 mb-6">
          <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center">
           <svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
           </svg>
          </div>
          <h3 class="text-xl font-semibold text-gray-900">System Configuration</h3>
         </div>
         <div class="space-y-6"><!-- Role-Based Access Control -->
          <div class="flex flex-col md:flex-row md:items-center md:justify-between">
           <div class="md:w-1/3 mb-2 md:mb-0"><label class="text-sm font-medium text-gray-700">Role-Based Access Control</label>
            <p class="text-xs text-gray-500 mt-1">Enable advanced permission system</p>
           </div>
           <div class="md:w-2/3 flex justify-end"><label class="relative inline-flex items-center cursor-pointer"> <input type="checkbox" id="rbac-toggle" class="sr-only peer" checked>
             <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-teal-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-teal-600"></div></label>
           </div>
          </div><!-- Divider -->
          <div class="border-t border-gray-100"></div><!-- Auto-Save -->
          <div class="flex flex-col md:flex-row md:items-center md:justify-between">
           <div class="md:w-1/3 mb-2 md:mb-0"><label class="text-sm font-medium text-gray-700">Auto-Save Forms</label>
            <p class="text-xs text-gray-500 mt-1">Automatically save form progress</p>
           </div>
           <div class="md:w-2/3 flex justify-end"><label class="relative inline-flex items-center cursor-pointer"> <input type="checkbox" id="autosave-toggle" class="sr-only peer" checked>
             <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-teal-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-teal-600"></div></label>
           </div>
          </div><!-- Divider -->
          <div class="border-t border-gray-100"></div><!-- Email Notifications -->
          <div class="flex flex-col md:flex-row md:items-center md:justify-between">
           <div class="md:w-1/3 mb-2 md:mb-0"><label class="text-sm font-medium text-gray-700">Email Notifications</label>
            <p class="text-xs text-gray-500 mt-1">Receive status update emails</p>
           </div>
           <div class="md:w-2/3 flex justify-end"><label class="relative inline-flex items-center cursor-pointer"> <input type="checkbox" id="email-notifications-toggle" class="sr-only peer">
             <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-teal-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-teal-600"></div></label>
           </div>
          </div>
         </div>
        </div>
       </div><!-- Right Column -->
       <div class="space-y-8"><!-- Appearance Panel -->
        <div class="bg-white rounded-xl p-8 custom-shadow">
         <div class="flex items-center space-x-3 mb-6">
          <div class="w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center">
           <svg class="w-5 h-5 text-yellow-600" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z" />
           </svg>
          </div>
          <h3 class="text-xl font-semibold text-gray-900">Appearance</h3>
         </div>
         <div class="space-y-6"><!-- Theme Selection -->
          <div class="flex flex-col md:flex-row md:items-center md:justify-between"><label class="text-sm font-medium text-gray-700 mb-2 md:mb-0 md:w-1/3">Color Theme</label>
           <div class="md:w-2/3">
            <div class="flex space-x-3"><button id="light-theme-btn" class="theme-btn active flex-1 flex items-center justify-center space-x-2 px-4 py-3 border-2 border-teal-500 bg-teal-50 text-teal-700 rounded-lg transition-colors">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
              </svg><span class="text-sm font-medium">Light</span> </button> <button id="dark-theme-btn" class="theme-btn flex-1 flex items-center justify-center space-x-2 px-4 py-3 border-2 border-gray-300 bg-white text-gray-700 rounded-lg hover:border-gray-400 transition-colors">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
              </svg><span class="text-sm font-medium">Dark</span> </button>
            </div>
           </div>
          </div><!-- Divider -->
          <div class="border-t border-gray-100"></div><!-- Language Selection -->
          <div class="flex flex-col md:flex-row md:items-center md:justify-between"><label class="text-sm font-medium text-gray-700 mb-2 md:mb-0 md:w-1/3">Language</label>
           <div class="md:w-2/3">
            <div class="grid grid-cols-3 gap-2"><button id="lang-tr-btn" class="lang-select-btn active flex items-center justify-center space-x-2 px-3 py-3 border-2 border-teal-500 bg-teal-50 text-teal-700 rounded-lg transition-colors"> <span class="text-lg">🇹🇷</span> <span class="text-sm font-medium">TR</span> </button> <button id="lang-en-btn" class="lang-select-btn flex items-center justify-center space-x-2 px-3 py-3 border-2 border-gray-300 bg-white text-gray-700 rounded-lg hover:border-gray-400 transition-colors"> <span class="text-lg">🇺🇸</span> <span class="text-sm font-medium">EN</span> </button> <button id="lang-ru-btn" class="lang-select-btn flex items-center justify-center space-x-2 px-3 py-3 border-2 border-gray-300 bg-white text-gray-700 rounded-lg hover:border-gray-400 transition-colors"> <span class="text-lg">🇷🇺</span> <span class="text-sm font-medium">RU</span> </button>
            </div>
           </div>
          </div><!-- Divider -->
          <div class="border-t border-gray-100"></div><!-- Compact Mode -->
          <div class="flex flex-col md:flex-row md:items-center md:justify-between">
           <div class="md:w-1/3 mb-2 md:mb-0"><label class="text-sm font-medium text-gray-700">Compact Mode</label>
            <p class="text-xs text-gray-500 mt-1">Reduce spacing for more content</p>
           </div>
           <div class="md:w-2/3 flex justify-end"><label class="relative inline-flex items-center cursor-pointer"> <input type="checkbox" id="compact-mode-toggle" class="sr-only peer">
             <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-teal-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-teal-600"></div></label>
           </div>
          </div>
         </div>
        </div><!-- Security Settings Panel -->
        <div class="bg-white rounded-xl p-8 custom-shadow">
         <div class="flex items-center space-x-3 mb-6">
          <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center">
           <svg class="w-5 h-5 text-red-600" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
           </svg>
          </div>
          <h3 class="text-xl font-semibold text-gray-900">Security Settings</h3>
         </div>
         <div class="space-y-6"><!-- Change Password -->
          <div class="flex flex-col md:flex-row md:items-center md:justify-between">
           <div class="md:w-1/3 mb-2 md:mb-0"><label class="text-sm font-medium text-gray-700">Password</label>
            <p class="text-xs text-gray-500 mt-1">Last changed 30 days ago</p>
           </div>
           <div class="md:w-2/3 flex justify-end"><button id="change-password-btn" class="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium"> Change Password </button>
           </div>
          </div><!-- Divider -->
          <div class="border-t border-gray-100"></div><!-- Two-Factor Authentication -->
          <div class="flex flex-col md:flex-row md:items-center md:justify-between">
           <div class="md:w-1/3 mb-2 md:mb-0"><label class="text-sm font-medium text-gray-700">Two-Factor Authentication</label>
            <p class="text-xs text-gray-500 mt-1">Add extra security to your account</p>
           </div>
           <div class="md:w-2/3 flex justify-end"><label class="relative inline-flex items-center cursor-pointer"> <input type="checkbox" id="two-factor-toggle" class="sr-only peer">
             <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-teal-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-teal-600"></div></label>
           </div>
          </div><!-- Divider -->
          <div class="border-t border-gray-100"></div><!-- Session Timeout -->
          <div class="flex flex-col md:flex-row md:items-center md:justify-between"><label class="text-sm font-medium text-gray-700 mb-2 md:mb-0 md:w-1/3">Session Timeout</label>
           <div class="md:w-2/3"><select id="session-timeout" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-colors"> <option value="15">15 minutes</option> <option value="30" selected>30 minutes</option> <option value="60">1 hour</option> <option value="120">2 hours</option> <option value="480">8 hours</option> <option value="never">Never</option> </select>
           </div>
          </div><!-- Divider -->
          <div class="border-t border-gray-100"></div><!-- Login History -->
          <div class="flex flex-col md:flex-row md:items-center md:justify-between">
           <div class="md:w-1/3 mb-2 md:mb-0"><label class="text-sm font-medium text-gray-700">Login History</label>
            <p class="text-xs text-gray-500 mt-1">View recent login activity</p>
           </div>
           <div class="md:w-2/3 flex justify-end"><button id="view-login-history-btn" class="px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium"> View History </button>
           </div>
          </div>
         </div>
        </div>
       </div>
      </div><!-- Save All Settings Button -->
      <div class="mt-8 flex justify-center"><button id="save-all-settings" class="px-8 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors font-medium flex items-center space-x-2">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
        </svg><span>Save All Settings</span> </button>
      </div>
     </div>
    </main>
   </div>
  </div><!-- New Request Modal -->
  <div id="new-request-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
   <div class="bg-white rounded-xl max-w-6xl w-full max-h-[90vh] overflow-hidden custom-shadow"><!-- Modal Header -->
    <div class="px-8 py-6 border-b border-gray-200 bg-gray-50">
     <div class="flex items-center justify-between">
      <div class="flex items-center space-x-3"><span class="text-2xl">➕</span>
       <h2 class="text-2xl font-bold text-gray-900">New Request Creation</h2>
      </div><button id="close-modal-btn" class="p-2 text-gray-400 hover:text-gray-600 transition-colors">
       <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
       </svg></button>
     </div>
    </div><!-- Modal Content -->
    <div class="overflow-y-auto max-h-[calc(90vh-140px)]">
     <form id="new-request-form" class="p-8"><!-- Requester Information -->
      <div class="mb-8">
       <h3 class="text-lg font-semibold text-gray-900 mb-4">Requester Information</h3>
       <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div><label for="requester-name" class="block text-sm font-medium text-gray-700 mb-2">Name &amp; Surname *</label> <input type="text" id="requester-name" name="requester-name" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-colors" placeholder="Enter full name">
         <div class="mt-1 text-sm text-red-600 hidden" id="requester-name-error">
          Please enter your full name
         </div>
        </div>
        <div><label for="request-date" class="block text-sm font-medium text-gray-700 mb-2">Request Date *</label> <input type="date" id="request-date" name="request-date" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-colors">
         <div class="mt-1 text-sm text-red-600 hidden" id="request-date-error">
          Please select a request date
         </div>
        </div>
       </div>
      </div><!-- Material Items Section -->
      <div class="mb-8">
       <div class="flex items-center justify-between mb-4">
        <h3 class="text-lg font-semibold text-gray-900">Material Items</h3><button type="button" id="add-row-btn" class="flex items-center space-x-2 px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors text-sm font-medium">
         <svg class="w-4 h-4" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
         </svg><span>Add Row</span> </button>
       </div><!-- Material Items Container -->
       <div id="material-items-container" class="space-y-6"><!-- Initial Row -->
        <div class="material-item-row bg-gray-50 rounded-lg p-6 border border-gray-200">
         <div class="flex items-center justify-between mb-4">
          <h4 class="text-md font-medium text-gray-800">Item #1</h4><button type="button" class="delete-row-btn text-red-600 hover:text-red-800 transition-colors hidden">
           <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
           </svg></button>
         </div>
         <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4"><!-- Material Main Type -->
          <div><label class="block text-sm font-medium text-gray-700 mb-2">Material Main Type *</label> <select name="material-main-type" required class="w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-colors"> <option value="">Select main type</option> <option value="raw-material">Raw Material</option> <option value="spare-parts">Spare Parts</option> <option value="consumables">Consumables</option> <option value="tools">Tools</option> <option value="equipment">Equipment</option> <option value="chemicals">Chemicals</option> <option value="safety">Safety Equipment</option> </select>
           <div class="mt-1 text-sm text-red-600 hidden material-main-type-error">
            Please select a material type
           </div>
          </div><!-- Type -->
          <div><label class="block text-sm font-medium text-gray-700 mb-2">Type *</label> <input type="text" name="material-type" required class="w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-colors" placeholder="e.g., Steel Sheets, Bearings">
           <div class="mt-1 text-sm text-red-600 hidden material-type-error">
            Please enter material type
           </div>
          </div><!-- Unit -->
          <div><label class="block text-sm font-medium text-gray-700 mb-2">Unit *</label> <select name="unit" required class="w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-colors"> <option value="">Select unit</option> <option value="piece">Piece</option> <option value="box">Box</option> <option value="pack">Pack</option> <option value="meter">Meter</option> <option value="litre">Litre</option> <option value="kg">Kg</option> <option value="set">Set</option> <option value="other">Other</option> </select>
           <div class="mt-1 text-sm text-red-600 hidden unit-error">
            Please select a unit
           </div>
          </div><!-- Quantity -->
          <div><label class="block text-sm font-medium text-gray-700 mb-2">Quantity *</label> <input type="number" name="quantity" required min="1" step="0.01" class="w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-colors" placeholder="0">
           <div class="mt-1 text-sm text-red-600 hidden quantity-error">
            Please enter a valid quantity
           </div>
          </div>
         </div>
         <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"><!-- Due Date -->
          <div><label class="block text-sm font-medium text-gray-700 mb-2">Due Date *</label> <input type="date" name="due-date" required class="w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-colors">
           <div class="mt-1 text-sm text-red-600 hidden due-date-error">
            Please select a due date
           </div>
          </div><!-- Detail Link -->
          <div><label class="block text-sm font-medium text-gray-700 mb-2">Detail Link</label> <input type="url" name="detail-link" class="w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-colors" placeholder="https://example.com/details">
           <div class="mt-1 text-sm text-gray-500">
            Optional: Link to detailed specifications
           </div>
           <div class="mt-1 text-sm text-red-600 hidden detail-link-error">
            Please enter a valid URL
           </div>
          </div>
         </div><!-- Description -->
         <div><label class="block text-sm font-medium text-gray-700 mb-2">Description</label> <textarea name="description" rows="3" class="w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-colors resize-none" placeholder="Additional details, specifications, or requirements..."></textarea>
          <div class="mt-1 text-sm text-gray-500">
           Optional: Additional information about this item
          </div>
         </div>
        </div>
       </div><!-- Add Row Button (Alternative Position) -->
       <div class="mt-4 text-center"><button type="button" id="add-row-btn-alt" class="inline-flex items-center space-x-2 px-6 py-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-teal-500 hover:text-teal-600 transition-colors">
         <svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
         </svg><span class="font-medium">Add Another Item</span> </button>
       </div>
      </div><!-- Form Validation Summary -->
      <div id="form-errors" class="mb-6 p-4 bg-red-50 border border-red-200 rounded-lg hidden">
       <div class="flex items-center space-x-2 mb-2">
        <svg class="w-5 h-5 text-red-600" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        <h4 class="text-sm font-medium text-red-800">Please fix the following errors:</h4>
       </div>
       <ul id="error-list" class="text-sm text-red-700 list-disc list-inside space-y-1"></ul>
      </div>
     </form>
    </div><!-- Modal Footer -->
    <div class="px-8 py-6 border-t border-gray-200 bg-gray-50 flex items-center justify-end space-x-4"><button type="button" id="cancel-btn" class="px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium"> Cancel </button> <button type="submit" form="new-request-form" id="save-btn" class="px-6 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors font-medium flex items-center space-x-2"> <span>Save Request</span>
      <div id="save-spinner" class="hidden w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"></div></button>
    </div>
   </div>
  </div>
  <script>
        // Configuration object
        const defaultConfig = {
            system_title: "SOMTECH_SOF",
            user_role: "Purchasing",
            department: "Materials Management",
            background_color: "#f8fafc",
            sidebar_color: "#1e293b",
            accent_color: "#14b8a6",
            text_color: "#1f2937",
            card_color: "#ffffff"
        };

        let currentLanguage = 'TR';

        // Language switching functionality
        function setLanguage(lang) {
            currentLanguage = lang;
            
            // Update active language button
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Here you would typically update all text content based on language
            console.log(`Language switched to: ${lang}`);
        }

        // Google Drive Integration
        let isConnected = false;
        let gapi = null;
        let CLIENT_ID = '';
        let API_KEY = '';

        // Initialize Google Drive functionality
        function initGoogleDrive() {
            // Connection status management
            const connectBtn = document.getElementById('connect-drive-btn');
            const backupBtn = document.getElementById('backup-btn');
            const restoreBtn = document.getElementById('restore-btn');
            const saveConfigBtn = document.getElementById('save-config-btn');
            
            // Connect to Google Drive
            connectBtn.addEventListener('click', async () => {
                if (!CLIENT_ID || !API_KEY) {
                    showConfigMessage('Please configure CLIENT_ID and API_KEY first.', 'error');
                    return;
                }
                
                try {
                    connectBtn.innerHTML = `
                        <div class="w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"></div>
                        <span>Connecting...</span>
                    `;
                    connectBtn.disabled = true;
                    
                    // Simulate connection process
                    await new Promise(resolve => setTimeout(resolve, 2000));
                    
                    // Update connection status
                    updateConnectionStatus(true);
                    showConfigMessage('Successfully connected to Google Drive!', 'success');
                    
                } catch (error) {
                    console.error('Connection failed:', error);
                    showConfigMessage('Failed to connect to Google Drive. Please check your credentials.', 'error');
                    connectBtn.innerHTML = `
                        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M6.28 3l5.72 9.91L18.28 3H6.28zM21 14.59L15.41 9H21v5.59zM12 15l-6.28-3L12 21l6.28-9H12z"/>
                        </svg>
                        <span>Connect to Google Drive</span>
                    `;
                    connectBtn.disabled = false;
                }
            });
            
            // Backup to Drive
            backupBtn.addEventListener('click', async () => {
                if (!isConnected) return;
                
                const spinner = document.getElementById('backup-spinner');
                backupBtn.disabled = true;
                spinner.classList.remove('hidden');
                
                try {
                    // Simulate backup process
                    await new Promise(resolve => setTimeout(resolve, 3000));
                    
                    // Update last backup time
                    document.getElementById('last-backup').textContent = new Date().toLocaleString();
                    
                    // Update statistics
                    const totalBackups = document.getElementById('total-backups');
                    totalBackups.textContent = parseInt(totalBackups.textContent) + 1;
                    
                    const dataSize = document.getElementById('data-size');
                    dataSize.textContent = `${Math.floor(Math.random() * 500 + 100)} KB`;
                    
                    showConfigMessage('Backup completed successfully!', 'success');
                    
                } catch (error) {
                    console.error('Backup failed:', error);
                    showConfigMessage('Backup failed. Please try again.', 'error');
                } finally {
                    backupBtn.disabled = false;
                    spinner.classList.add('hidden');
                }
            });
            
            // Restore from Drive
            restoreBtn.addEventListener('click', async () => {
                if (!isConnected) return;
                
                const spinner = document.getElementById('restore-spinner');
                restoreBtn.disabled = true;
                spinner.classList.remove('hidden');
                
                try {
                    // Simulate restore process
                    await new Promise(resolve => setTimeout(resolve, 2500));
                    
                    // Update last restore time
                    document.getElementById('last-restore').textContent = new Date().toLocaleString();
                    
                    showConfigMessage('Data restored successfully!', 'success');
                    
                } catch (error) {
                    console.error('Restore failed:', error);
                    showConfigMessage('Restore failed. Please try again.', 'error');
                } finally {
                    restoreBtn.disabled = false;
                    spinner.classList.add('hidden');
                }
            });
            
            // Save configuration
            saveConfigBtn.addEventListener('click', () => {
                const clientId = document.getElementById('client-id-input').value.trim();
                const apiKey = document.getElementById('api-key-input').value.trim();
                
                if (!clientId || !apiKey) {
                    showConfigMessage('Please enter both Client ID and API Key.', 'error');
                    return;
                }
                
                CLIENT_ID = clientId;
                API_KEY = apiKey;
                
                // Store in localStorage for demo purposes
                localStorage.setItem('google_drive_client_id', CLIENT_ID);
                localStorage.setItem('google_drive_api_key', API_KEY);
                
                showConfigMessage('Configuration saved successfully!', 'success');
            });
            
            // Load saved configuration
            const savedClientId = localStorage.getItem('google_drive_client_id');
            const savedApiKey = localStorage.getItem('google_drive_api_key');
            
            if (savedClientId) {
                document.getElementById('client-id-input').value = savedClientId;
                CLIENT_ID = savedClientId;
            }
            
            if (savedApiKey) {
                document.getElementById('api-key-input').value = savedApiKey;
                API_KEY = savedApiKey;
            }
        }
        
        function updateConnectionStatus(connected) {
            isConnected = connected;
            const indicator = document.getElementById('connection-indicator');
            const status = document.getElementById('connection-status');
            const connectBtn = document.getElementById('connect-drive-btn');
            const backupBtn = document.getElementById('backup-btn');
            const restoreBtn = document.getElementById('restore-btn');
            
            if (connected) {
                indicator.innerHTML = `
                    <div class="w-3 h-3 bg-green-500 rounded-full"></div>
                    <span class="text-sm font-medium text-green-600">Connected</span>
                `;
                connectBtn.innerHTML = `
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                    </svg>
                    <span>Connected to Google Drive</span>
                `;
                connectBtn.disabled = true;
                connectBtn.classList.remove('bg-blue-600', 'hover:bg-blue-700');
                connectBtn.classList.add('bg-green-600');
                
                backupBtn.disabled = false;
                restoreBtn.disabled = false;
            } else {
                indicator.innerHTML = `
                    <div class="w-3 h-3 bg-red-500 rounded-full"></div>
                    <span class="text-sm font-medium text-red-600">Not Connected</span>
                `;
                connectBtn.innerHTML = `
                    <svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M6.28 3l5.72 9.91L18.28 3H6.28zM21 14.59L15.41 9H21v5.59zM12 15l-6.28-3L12 21l6.28-9H12z"/>
                    </svg>
                    <span>Connect to Google Drive</span>
                `;
                connectBtn.disabled = false;
                connectBtn.classList.remove('bg-green-600');
                connectBtn.classList.add('bg-blue-600', 'hover:bg-blue-700');
                
                backupBtn.disabled = true;
                restoreBtn.disabled = true;
            }
        }
        
        function showConfigMessage(message, type) {
            const messageDiv = document.getElementById('config-message');
            const messageText = document.getElementById('config-message-text');
            
            messageDiv.classList.remove('hidden');
            messageText.textContent = message;
            
            // Remove existing type classes
            messageDiv.firstElementChild.classList.remove('bg-green-100', 'text-green-800', 'bg-red-100', 'text-red-800');
            
            if (type === 'success') {
                messageDiv.firstElementChild.classList.add('bg-green-100', 'text-green-800');
            } else if (type === 'error') {
                messageDiv.firstElementChild.classList.add('bg-red-100', 'text-red-800');
            }
            
            // Auto-hide after 5 seconds
            setTimeout(() => {
                messageDiv.classList.add('hidden');
            }, 5000);
        }
        
        // New Request Modal functionality
        let itemCounter = 1;
        
        function initNewRequestModal() {
            const modal = document.getElementById('new-request-modal');
            const newRequestBtn = document.querySelector('#new-request-btn');
            const closeModalBtn = document.getElementById('close-modal-btn');
            const cancelBtn = document.getElementById('cancel-btn');
            const addRowBtn = document.getElementById('add-row-btn');
            const addRowBtnAlt = document.getElementById('add-row-btn-alt');
            const form = document.getElementById('new-request-form');
            const saveBtn = document.getElementById('save-btn');
            const saveSpinner = document.getElementById('save-spinner');
            
            // Set default request date to today
            const requestDateInput = document.getElementById('request-date');
            if (requestDateInput) {
                requestDateInput.value = new Date().toISOString().split('T')[0];
            }
            
            // Open modal
            function openModal() {
                modal.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
                
                // Focus on first input
                setTimeout(() => {
                    document.getElementById('requester-name').focus();
                }, 100);
            }
            
            // Close modal
            function closeModal() {
                modal.classList.add('hidden');
                document.body.style.overflow = 'auto';
                resetForm();
            }
            
            // Reset form
            function resetForm() {
                form.reset();
                
                // Reset to single item row
                const container = document.getElementById('material-items-container');
                const firstRow = container.querySelector('.material-item-row');
                container.innerHTML = '';
                container.appendChild(createItemRow(1));
                itemCounter = 1;
                
                // Hide error messages
                hideAllErrors();
                
                // Reset request date to today
                requestDateInput.value = new Date().toISOString().split('T')[0];
            }
            
            // Create new item row
            function createItemRow(itemNumber) {
                const row = document.createElement('div');
                row.className = 'material-item-row bg-gray-50 rounded-lg p-6 border border-gray-200';
                row.innerHTML = `
                    <div class="flex items-center justify-between mb-4">
                        <h4 class="text-md font-medium text-gray-800">Item #${itemNumber}</h4>
                        <button type="button" class="delete-row-btn text-red-600 hover:text-red-800 transition-colors ${itemNumber === 1 ? 'hidden' : ''}">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                            </svg>
                        </button>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4">
                        <!-- Material Main Type -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Material Main Type *</label>
                            <select name="material-main-type" required class="w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-colors">
                                <option value="">Select main type</option>
                                <option value="raw-material">Raw Material</option>
                                <option value="spare-parts">Spare Parts</option>
                                <option value="consumables">Consumables</option>
                                <option value="tools">Tools</option>
                                <option value="equipment">Equipment</option>
                                <option value="chemicals">Chemicals</option>
                                <option value="safety">Safety Equipment</option>
                            </select>
                            <div class="mt-1 text-sm text-red-600 hidden material-main-type-error">Please select a material type</div>
                        </div>
                        
                        <!-- Type -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Type *</label>
                            <input type="text" name="material-type" required
                                   class="w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-colors"
                                   placeholder="e.g., Steel Sheets, Bearings">
                            <div class="mt-1 text-sm text-red-600 hidden material-type-error">Please enter material type</div>
                        </div>
                        
                        <!-- Unit -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Unit *</label>
                            <select name="unit" required class="w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-colors">
                                <option value="">Select unit</option>
                                <option value="piece">Piece</option>
                                <option value="box">Box</option>
                                <option value="pack">Pack</option>
                                <option value="meter">Meter</option>
                                <option value="litre">Litre</option>
                                <option value="kg">Kg</option>
                                <option value="set">Set</option>
                                <option value="other">Other</option>
                            </select>
                            <div class="mt-1 text-sm text-red-600 hidden unit-error">Please select a unit</div>
                        </div>
                        
                        <!-- Quantity -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Quantity *</label>
                            <input type="number" name="quantity" required min="1" step="0.01"
                                   class="w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-colors"
                                   placeholder="0">
                            <div class="mt-1 text-sm text-red-600 hidden quantity-error">Please enter a valid quantity</div>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <!-- Due Date -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Due Date *</label>
                            <input type="date" name="due-date" required
                                   class="w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-colors">
                            <div class="mt-1 text-sm text-red-600 hidden due-date-error">Please select a due date</div>
                        </div>
                        
                        <!-- Detail Link -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Detail Link</label>
                            <input type="url" name="detail-link"
                                   class="w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-colors"
                                   placeholder="https://example.com/details">
                            <div class="mt-1 text-sm text-gray-500">Optional: Link to detailed specifications</div>
                            <div class="mt-1 text-sm text-red-600 hidden detail-link-error">Please enter a valid URL</div>
                        </div>
                    </div>
                    
                    <!-- Description -->
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                        <textarea name="description" rows="3"
                                  class="w-full px-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-colors resize-none"
                                  placeholder="Additional details, specifications, or requirements..."></textarea>
                        <div class="mt-1 text-sm text-gray-500">Optional: Additional information about this item</div>
                    </div>
                `;
                
                // Add delete functionality
                const deleteBtn = row.querySelector('.delete-row-btn');
                deleteBtn.addEventListener('click', () => {
                    row.remove();
                    updateItemNumbers();
                    updateDeleteButtons();
                });
                
                return row;
            }
            
            // Add new item row
            function addItemRow() {
                itemCounter++;
                const container = document.getElementById('material-items-container');
                const newRow = createItemRow(itemCounter);
                container.appendChild(newRow);
                updateDeleteButtons();
                
                // Scroll to new row
                newRow.scrollIntoView({ behavior: 'smooth', block: 'center' });
                
                // Focus on first input of new row
                setTimeout(() => {
                    const firstInput = newRow.querySelector('select[name="material-main-type"]');
                    if (firstInput) firstInput.focus();
                }, 300);
            }
            
            // Update item numbers
            function updateItemNumbers() {
                const rows = document.querySelectorAll('.material-item-row');
                rows.forEach((row, index) => {
                    const header = row.querySelector('h4');
                    header.textContent = `Item #${index + 1}`;
                });
                itemCounter = rows.length;
            }
            
            // Update delete button visibility
            function updateDeleteButtons() {
                const rows = document.querySelectorAll('.material-item-row');
                rows.forEach((row, index) => {
                    const deleteBtn = row.querySelector('.delete-row-btn');
                    if (rows.length === 1) {
                        deleteBtn.classList.add('hidden');
                    } else {
                        deleteBtn.classList.remove('hidden');
                    }
                });
            }
            
            // Form validation
            function validateForm() {
                let isValid = true;
                const errors = [];
                
                hideAllErrors();
                
                // Validate requester name
                const requesterName = document.getElementById('requester-name');
                if (!requesterName.value.trim()) {
                    showFieldError('requester-name-error');
                    errors.push('Requester name is required');
                    isValid = false;
                }
                
                // Validate request date
                const requestDate = document.getElementById('request-date');
                if (!requestDate.value) {
                    showFieldError('request-date-error');
                    errors.push('Request date is required');
                    isValid = false;
                }
                
                // Validate material items
                const rows = document.querySelectorAll('.material-item-row');
                rows.forEach((row, index) => {
                    const itemNumber = index + 1;
                    
                    // Material main type
                    const mainType = row.querySelector('select[name="material-main-type"]');
                    if (!mainType.value) {
                        row.querySelector('.material-main-type-error').classList.remove('hidden');
                        errors.push(`Item ${itemNumber}: Material main type is required`);
                        isValid = false;
                    }
                    
                    // Material type
                    const materialType = row.querySelector('input[name="material-type"]');
                    if (!materialType.value.trim()) {
                        row.querySelector('.material-type-error').classList.remove('hidden');
                        errors.push(`Item ${itemNumber}: Material type is required`);
                        isValid = false;
                    }
                    
                    // Unit
                    const unit = row.querySelector('select[name="unit"]');
                    if (!unit.value) {
                        row.querySelector('.unit-error').classList.remove('hidden');
                        errors.push(`Item ${itemNumber}: Unit is required`);
                        isValid = false;
                    }
                    
                    // Quantity
                    const quantity = row.querySelector('input[name="quantity"]');
                    if (!quantity.value || parseFloat(quantity.value) <= 0) {
                        row.querySelector('.quantity-error').classList.remove('hidden');
                        errors.push(`Item ${itemNumber}: Valid quantity is required`);
                        isValid = false;
                    }
                    
                    // Due date
                    const dueDate = row.querySelector('input[name="due-date"]');
                    if (!dueDate.value) {
                        row.querySelector('.due-date-error').classList.remove('hidden');
                        errors.push(`Item ${itemNumber}: Due date is required`);
                        isValid = false;
                    }
                    
                    // Detail link validation (if provided)
                    const detailLink = row.querySelector('input[name="detail-link"]');
                    if (detailLink.value && !isValidUrl(detailLink.value)) {
                        row.querySelector('.detail-link-error').classList.remove('hidden');
                        errors.push(`Item ${itemNumber}: Invalid URL format`);
                        isValid = false;
                    }
                });
                
                // Show error summary if there are errors
                if (!isValid) {
                    showErrorSummary(errors);
                }
                
                return isValid;
            }
            
            // Helper functions
            function showFieldError(errorId) {
                document.getElementById(errorId).classList.remove('hidden');
            }
            
            function hideAllErrors() {
                document.querySelectorAll('.text-red-600').forEach(error => {
                    if (error.classList.contains('hidden')) return;
                    error.classList.add('hidden');
                });
                document.getElementById('form-errors').classList.add('hidden');
            }
            
            function showErrorSummary(errors) {
                const errorContainer = document.getElementById('form-errors');
                const errorList = document.getElementById('error-list');
                
                errorList.innerHTML = '';
                errors.forEach(error => {
                    const li = document.createElement('li');
                    li.textContent = error;
                    errorList.appendChild(li);
                });
                
                errorContainer.classList.remove('hidden');
                errorContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
            
            function isValidUrl(string) {
                try {
                    new URL(string);
                    return true;
                } catch (_) {
                    return false;
                }
            }
            
            // Form submission
            async function handleFormSubmit(e) {
                e.preventDefault();
                
                if (!validateForm()) {
                    return;
                }
                
                // Show loading state
                saveBtn.disabled = true;
                saveSpinner.classList.remove('hidden');
                
                try {
                    // Simulate form submission
                    await new Promise(resolve => setTimeout(resolve, 2000));
                    
                    // Generate SOF number
                    const sofNumber = `SOF-${new Date().getFullYear()}-${String(Math.floor(Math.random() * 1000) + 1).padStart(3, '0')}`;
                    
                    // Show success message
                    showConfigMessage(`Request ${sofNumber} created successfully!`, 'success');
                    
                    // Close modal
                    closeModal();
                    
                } catch (error) {
                    console.error('Form submission failed:', error);
                    showConfigMessage('Failed to create request. Please try again.', 'error');
                } finally {
                    saveBtn.disabled = false;
                    saveSpinner.classList.add('hidden');
                }
            }
            
            // Event listeners
            if (newRequestBtn) {
                newRequestBtn.addEventListener('click', openModal);
            }
            
            closeModalBtn.addEventListener('click', closeModal);
            cancelBtn.addEventListener('click', closeModal);
            addRowBtn.addEventListener('click', addItemRow);
            addRowBtnAlt.addEventListener('click', addItemRow);
            form.addEventListener('submit', handleFormSubmit);
            
            // Close modal on backdrop click
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeModal();
                }
            });
            
            // Close modal on Escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && !modal.classList.contains('hidden')) {
                    closeModal();
                }
            });
        }
        
        // Navigation functionality
        function initNavigation() {
            const dashboardNav = document.querySelector('a[href="#"]:not(#settings-nav)');
            const settingsNav = document.getElementById('settings-nav');
            const dashboardView = document.getElementById('dashboard-view');
            const settingsView = document.getElementById('settings-view');
            
            // Set initial active state
            function setActiveNav(activeNav) {
                document.querySelectorAll('.nav-item').forEach(nav => {
                    nav.classList.remove('bg-slate-700');
                });
                activeNav.classList.add('bg-slate-700');
            }
            
            // Show dashboard
            function showDashboard() {
                dashboardView.classList.remove('hidden');
                settingsView.classList.add('hidden');
                setActiveNav(dashboardNav);
                
                // Update header
                const header = document.querySelector('header h2');
                const subtitle = document.querySelector('header p');
                header.textContent = 'Dashboard';
                subtitle.textContent = 'Materials Management Overview';
            }
            
            // Show settings
            function showSettings() {
                dashboardView.classList.add('hidden');
                settingsView.classList.remove('hidden');
                setActiveNav(settingsNav);
                
                // Update header
                const header = document.querySelector('header h2');
                const subtitle = document.querySelector('header p');
                header.textContent = 'Settings';
                subtitle.textContent = 'Manage your account preferences and system configuration';
            }
            
            // Event listeners
            dashboardNav.addEventListener('click', (e) => {
                e.preventDefault();
                showDashboard();
            });
            
            settingsNav.addEventListener('click', (e) => {
                e.preventDefault();
                showSettings();
            });
        }
        
        // Settings functionality
        function initSettings() {
            // Theme switching
            const lightThemeBtn = document.getElementById('light-theme-btn');
            const darkThemeBtn = document.getElementById('dark-theme-btn');
            
            function setActiveTheme(activeBtn) {
                document.querySelectorAll('.theme-btn').forEach(btn => {
                    btn.classList.remove('active', 'border-teal-500', 'bg-teal-50', 'text-teal-700');
                    btn.classList.add('border-gray-300', 'bg-white', 'text-gray-700');
                });
                activeBtn.classList.add('active', 'border-teal-500', 'bg-teal-50', 'text-teal-700');
                activeBtn.classList.remove('border-gray-300', 'bg-white', 'text-gray-700');
            }
            
            lightThemeBtn.addEventListener('click', () => {
                setActiveTheme(lightThemeBtn);
                // Apply light theme
                document.body.classList.remove('dark');
                showConfigMessage('Light theme applied successfully!', 'success');
            });
            
            darkThemeBtn.addEventListener('click', () => {
                setActiveTheme(darkThemeBtn);
                // Apply dark theme (basic implementation)
                document.body.classList.add('dark');
                showConfigMessage('Dark theme applied successfully!', 'success');
            });
            
            // Language switching
            const langButtons = document.querySelectorAll('.lang-select-btn');
            
            function setActiveLanguage(activeBtn, lang) {
                langButtons.forEach(btn => {
                    btn.classList.remove('active', 'border-teal-500', 'bg-teal-50', 'text-teal-700');
                    btn.classList.add('border-gray-300', 'bg-white', 'text-gray-700');
                });
                activeBtn.classList.add('active', 'border-teal-500', 'bg-teal-50', 'text-teal-700');
                activeBtn.classList.remove('border-gray-300', 'bg-white', 'text-gray-700');
                
                // Update sidebar language buttons
                setLanguage(lang);
                showConfigMessage(`Language changed to ${lang}`, 'success');
            }
            
            document.getElementById('lang-tr-btn').addEventListener('click', (e) => {
                setActiveLanguage(e.target.closest('button'), 'TR');
            });
            
            document.getElementById('lang-en-btn').addEventListener('click', (e) => {
                setActiveLanguage(e.target.closest('button'), 'EN');
            });
            
            document.getElementById('lang-ru-btn').addEventListener('click', (e) => {
                setActiveLanguage(e.target.closest('button'), 'RU');
            });
            
            // Toggle switches
            const toggles = document.querySelectorAll('input[type="checkbox"]');
            toggles.forEach(toggle => {
                toggle.addEventListener('change', (e) => {
                    const label = e.target.closest('.flex').querySelector('label').textContent;
                    const status = e.target.checked ? 'enabled' : 'disabled';
                    showConfigMessage(`${label} ${status}`, 'success');
                });
            });
            
            // Save buttons
            document.getElementById('save-user-prefs').addEventListener('click', () => {
                showConfigMessage('User preferences saved successfully!', 'success');
            });
            
            document.getElementById('save-all-settings').addEventListener('click', () => {
                showConfigMessage('All settings saved successfully!', 'success');
            });
            
            // Security buttons
            document.getElementById('change-password-btn').addEventListener('click', () => {
                showConfigMessage('Password change functionality would open here', 'success');
            });
            
            document.getElementById('view-login-history-btn').addEventListener('click', () => {
                showConfigMessage('Login history would be displayed here', 'success');
            });
            
            // Two-factor authentication toggle
            document.getElementById('two-factor-toggle').addEventListener('change', (e) => {
                if (e.target.checked) {
                    showConfigMessage('Two-factor authentication setup would begin here', 'success');
                } else {
                    showConfigMessage('Two-factor authentication disabled', 'success');
                }
            });
        }

        // Initialize Google Drive on page load
        document.addEventListener('DOMContentLoaded', () => {
            initNavigation();
            initSettings();
            initGoogleDrive();
            initNewRequestModal();
        });

        // Element SDK implementation
        const element = {
            defaultConfig: defaultConfig,
            
            onConfigChange: async (config) => {
                // Update system title
                const titleElement = document.getElementById('system-title');
                if (titleElement) {
                    titleElement.textContent = config.system_title || defaultConfig.system_title;
                }
                
                // Update user role
                const roleElement = document.getElementById('user-role');
                if (roleElement) {
                    roleElement.textContent = config.user_role || defaultConfig.user_role;
                }
                
                // Update department
                const deptElement = document.getElementById('department');
                if (deptElement) {
                    deptElement.textContent = config.department || defaultConfig.department;
                }
                
                // Apply colors
                const backgroundColor = config.background_color || defaultConfig.background_color;
                const sidebarColor = config.sidebar_color || defaultConfig.sidebar_color;
                const accentColor = config.accent_color || defaultConfig.accent_color;
                const textColor = config.text_color || defaultConfig.text_color;
                const cardColor = config.card_color || defaultConfig.card_color;
                
                document.body.style.backgroundColor = backgroundColor;
                
                // Update sidebar color
                const sidebar = document.querySelector('.bg-slate-800');
                if (sidebar) {
                    sidebar.style.backgroundColor = sidebarColor;
                }
                
                // Update accent colors
                document.querySelectorAll('.bg-teal-500, .bg-teal-100').forEach(el => {
                    el.style.backgroundColor = accentColor;
                });
                
                // Update card colors
                document.querySelectorAll('.bg-white').forEach(el => {
                    if (el.classList.contains('rounded-xl')) {
                        el.style.backgroundColor = cardColor;
                    }
                });
            },
            
            mapToCapabilities: (config) => ({
                recolorables: [
                    {
                        get: () => config.background_color || defaultConfig.background_color,
                        set: (value) => {
                            if (window.elementSdk) {
                                window.elementSdk.setConfig({ background_color: value });
                            }
                        }
                    },
                    {
                        get: () => config.sidebar_color || defaultConfig.sidebar_color,
                        set: (value) => {
                            if (window.elementSdk) {
                                window.elementSdk.setConfig({ sidebar_color: value });
                            }
                        }
                    },
                    {
                        get: () => config.accent_color || defaultConfig.accent_color,
                        set: (value) => {
                            if (window.elementSdk) {
                                window.elementSdk.setConfig({ accent_color: value });
                            }
                        }
                    },
                    {
                        get: () => config.text_color || defaultConfig.text_color,
                        set: (value) => {
                            if (window.elementSdk) {
                                window.elementSdk.setConfig({ text_color: value });
                            }
                        }
                    },
                    {
                        get: () => config.card_color || defaultConfig.card_color,
                        set: (value) => {
                            if (window.elementSdk) {
                                window.elementSdk.setConfig({ card_color: value });
                            }
                        }
                    }
                ],
                borderables: [],
                fontEditable: undefined,
                fontSizeable: undefined
            }),
            
            mapToEditPanelValues: (config) => new Map([
                ["system_title", config.system_title || defaultConfig.system_title],
                ["user_role", config.user_role || defaultConfig.user_role],
                ["department", config.department || defaultConfig.department]
            ])
        };

        // Initialize Element SDK
        if (window.elementSdk) {
            window.elementSdk.init(element);
        }
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9949c1ca5694e34c',t:'MTc2MTQ3OTY0Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
